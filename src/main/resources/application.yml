spring:
  application:
    name: DailyDigest
  
  # Database Configuration
  datasource:
    url: jdbc:h2:mem:dailydigest
    driver-class-name: org.h2.Driver
    username: sa
    password: 
  
  # JPA Configuration
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true
    properties:
      hibernate:
        format_sql: true
        dialect: org.hibernate.dialect.H2Dialect
  
  # H2 Console (for development)
  h2:
    console:
      enabled: true
      path: /h2-console
  
  # Thymeleaf Configuration
  thymeleaf:
    cache: false
    prefix: classpath:/templates/
    suffix: .html
  
  # Spring AI Configuration
  ai:
    ollama:
      base-url: http://localhost:11434
      chat:
        options:
          model: phi3:mini
          temperature: 0.7
          max-tokens: 2000

# Server Configuration
server:
  port: 8080

# API Clients Configuration
api:
  newsapi:
    key: 7ae1cf97e29d441d9de83ae6b6546ae4
    base-url: https://newsapi.org/v2
    category: entertainment
    country: us
    page-size: 20
    
  tmdb:
    key: ${TMDB_API_KEY:your_tmdb_key_here}
    base-url: https://api.themoviedb.org/3
    language: en-US
    image-base-url: https://image.tmdb.org/t/p/w500
    
  rawg:
    key: 3ec94fe6cc424d38ad4883d8302cbdac
    base-url: https://api.rawg.io/api
    page-size: 20

# Digest Configuration
digest:
  scheduling:
    enabled: true
    cron: "0 0 8 * * *"  # Daily at 8:00 AM
  content:
    max-items-per-section: 5
    lookback-days: 7
    gaming:
      enabled: true
    movies:
      enabled: true
    tv-shows:
      enabled: true
    news:
      enabled: true

# Logging Configuration
logging:
  level:
    junioranyafulu.DailyDigest: DEBUG
    org.springframework.ai: DEBUG
    org.hibernate.SQL: DEBUG
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} - %msg%n"

# SpringDoc OpenAPI Configuration
springdoc:
  api-docs:
    path: /api-docs
  swagger-ui:
    path: /swagger-ui.html
    enabled: true

---
# Production Profile (PostgreSQL)
spring:
  config:
    activate:
      on-profile: prod
  
  datasource:
    url: jdbc:postgresql://localhost:5432/dailydigest
    username: ${DB_USERNAME:postgres}
    password: ${DB_PASSWORD:postgres}
    driver-class-name: org.postgresql.Driver
  
  jpa:
    properties:
      hibernate:
        dialect: org.hibernate.dialect.PostgreSQLDialect
  
  h2:
    console:
      enabled: false
